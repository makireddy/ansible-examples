---
- hosts: control
  become: true
  gather_facts: true

  tasks:
    - name: Gathering facts ip address
      debug:
        msg: "{{ ansible_default_ipv4.address }}"
      debug:
        msg: "{{ appa | default(30) }}"
      debug:
        msg: "{{ lookup('env', 'makireddy') | default('chicago', true) }}"
#if the env variable is not defined, it prints nothing but doesn't throw error
    - file:
        dest: "{{ item.path }}"
        state: touch
        mode: "{{ item.mode | default(omit) }}"
      loop:
        - path: /tmp/demofilter
        - path: /tmp/test
        - mode: "0600"
...

